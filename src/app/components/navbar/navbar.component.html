<div class="navbar">
  <div class="left">
    <div class="nav-buttons">
      <button class="icon-button" (click)="navigateTo('home')" title="Home">
        <i class="pi pi-home"></i>
      </button>
      <button class="icon-button" (click)="navigateTo('favorites')" title="My Favorites">
        <i class="pi pi-bookmark"></i>
      </button>
    </div>
  </div>
  <div class="center">
    <div class="search-wrapper" *ngIf="showSearchBar">
      <app-search-bar
        [searchTerm]="searchText"
        (searchTermChange)="onSearchTextChange($event)"
        (search)="handleSearch($event)"
      ></app-search-bar>
    </div>
  </div>
  <div class="right">
    <!-- Add to Favorites button (shown only on player routes) -->
    <div class="add-to-favorites-container" *ngIf="isOnPlayerRoute">
      <app-add-to-favorites
        [spotifyId]="currentSpotifyId"
        [entityType]="currentEntityType"
        [metadata]="currentMetadata"
        [size]="'medium'"
        (favoriteToggled)="onFavoriteToggled($event)">
      </app-add-to-favorites>
    </div>
    
    <div class="theme-button-container">
      <app-theme-button></app-theme-button>
    </div>

    <!-- User Profile Dropdown (shown only when authenticated) -->
    <div class="user-profile-container" *ngIf="isAuthenticated">
      <app-user-profile-dropdown></app-user-profile-dropdown>
    </div>
  </div>
</div>